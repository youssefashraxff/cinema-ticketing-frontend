@if (movie$ | async; as movie) {
<section>
  <!-- Movie Details -->

  <div class="movie-backdrop pt-36 pb-12">
    <div class="container max-w-6xl mx-auto">
      <div class="grid grid-cols-11 gap-18">
        <div class="col-span-3">
          <!-- <p>{{ movie.verticalPoster }}</p> -->
          <img class="rounded-md" [src]="movie.verticalPoster" alt="" />
        </div>
        <div class="col-span-8 flex flex-col gap-6 text-white py-10">
          <p class="text-3xl font-bold uppercase">{{ movie.name }}</p>
          <p class="text-lg font-semibold uppercase">
            Genre: <span class="font-light">{{ movie.movieCategory.type }}</span>
          </p>
          <div>
            <p class="text-white font-bold text-sm">
              <i class="fas fa-globe"></i>
              Language: <span class="font-light">{{ movie.language }}</span>
            </p>
            <p class="text-white font-bold text-sm">
              <i class="fas fa-clock"></i>
              Duration: <span class="font-light">{{ movie.duration }} min</span>
            </p>
          </div>
          <div>
            <p class="text-xl font-normal mb-3">Overview</p>
            <p class="text-md font-light text-gray-100">
              {{ movie.MovieDescription }}
            </p>
          </div>
          <div>
            <a [href]="movie.trailerURL" target="_blank">
              <button
                class="block rounded-full uppercase text-white border-main border py-2 px-6 cursor-pointer hover:bg-main-muted text-sm font-extrabold transition duration-200"
              >
                <i class="fas fa-play"></i> Play trailer
              </button>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Showtimes -->
  <div class="my-5">
    <div class="container max-w-6xl mx-auto">
      <!-- Showdays -->
      <h2 class="text-2xl text-white font-extrabold uppercase mb-6">Showdays</h2>
      @if (shows$ | async; as shows) {
      <div class="flex gap-4">
        @for (show of shows; track show.showId) {
        <a href="" class="group">
          <div
            class="py-3 px-5 rounded-2xl bg-linear-to-br from-neutral-900 to-neutral-800 border border-main shadow-lg flex flex-col justify-center items-center text-center"
          >
            <div>
              <p class="text-main font-semibold text-sm">
                {{ show.startTime | date : 'EEE' }}
              </p>
              <p class="text-main text-lg font-extrabold uppercase">
                {{ show.startTime | date : 'dd MMM' }}
              </p>
            </div>
          </div>
        </a>
        }
      </div>
      }
      <!-- Showtimes -->
      <div class="my-8">
        @if (shows$ | async; as shows) { @for (show of shows; track show.showId) {
        <p class="text-white font-bold text-lg">Hall {{ show.hallId }}</p>
        <div class="flex gap-3">
          <a [routerLink]="['/booking', show.showId, 'seats']" class="group">
            <div class="relative inline-flex items-center justify-center">
              <i class="fa-solid fa-ticket-simple text-7xl text-white group-hover:text-main"></i>
              <span class="absolute text-xs font-semibold text-black group-hover:text-white">
                {{ show.startTime | date : 'shortTime' }}
              </span>
            </div>
          </a>
        </div>
        } }
      </div>
    </div>
  </div>
</section>

} @else {
<app-loading-spinner />
}
