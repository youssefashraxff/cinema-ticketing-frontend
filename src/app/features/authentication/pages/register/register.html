<section class="">
  <div class="relative w-full h-screen overflow-hidden">
    <!-- Background Video -->
    <video
      autoplay
      [muted]="true"
      loop
      playsinline
      class="absolute inset-0 w-full h-full object-cover scale-125"
    >
      <source src="videos/intro.mp4" type="video/mp4" />
    </video>

    <!-- Dark Overlay -->
    <div class="absolute inset-0 bg-black/85"></div>

    <!-- Content -->
    <div class="relative z-5 flex flex-col justify-center items-center min-h-screen mx-auto">
      <div
        class="flex flex-col justify-center items-center bg-background-secondary/50 p-8 md:p-16 w-4/5 md:max-w-2xl md:min-w-xl rounded-lg shadow-lg mx-auto backdrop-blur-md"
      >
        <div class="title">
          <h2 class="text-2xl text-white font-extrabold uppercase mb-6">Register new account</h2>
        </div>

        <form
          [formGroup]="registerForm"
          (ngSubmit)="onSubmit()"
          class="w-full flex flex-col justify-center items-center"
        >
          <!-- Name -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 w-full mb-6">
            <div>
              <label class="block mb-2 text-sm font-medium text-white">First name</label>
              <input
                formControlName="firstName"
                type="text"
                class="bg-background border border-gray-600 text-white text-sm rounded-lg block w-full p-2.5"
                placeholder="John"
                required
              />
            </div>

            <div>
              <label class="block mb-2 text-sm font-medium text-white">Last name</label>
              <input
                formControlName="lastName"
                type="text"
                class="bg-background border border-gray-600 text-white text-sm rounded-lg block w-full p-2.5"
                placeholder="Doe"
                required
              />
            </div>
          </div>

          <!-- Email -->
          <div class="mb-6 w-full">
            <label class="block mb-2 text-sm font-medium text-white">Email Address</label>
            <input
              formControlName="email"
              type="email"
              class="bg-background border border-gray-600 text-white text-sm rounded-lg block w-full p-2.5"
              placeholder="john.doe@example.com"
              required
            />
          </div>

          <!-- Password -->
          <div class="mb-6 w-full">
            <label class="block mb-2 text-sm font-medium text-white">Password</label>
            <input
              formControlName="password"
              type="password"
              class="bg-background border border-gray-600 text-white text-sm rounded-lg block w-full p-2.5"
              placeholder="Enter your password"
              required
            />
          </div>

          <!-- Confirm Password -->
          <div class="mb-6 w-full">
            <label class="block mb-2 text-sm font-medium text-white">Confirm Password</label>
            <input
              formControlName="confirmPassword"
              type="password"
              class="bg-background border border-gray-600 text-white text-sm rounded-lg block w-full p-2.5"
              placeholder="Confirm your password"
              required
            />
          </div>

          <!-- Submit -->
          <button
            type="submit"
            [disabled]="isLoading"
            class="disabled:bg-gray-500 disabled:cursor-auto mt-5 text-white bg-main hover:bg-main-muted font-medium rounded-lg text-sm w-full px-5 py-2.5"
          >
            Register @if(isLoading){
            <i class="fa-solid fa-spinner fa-spin ml-2"></i>
            }
          </button>

          <p class="text-sm font-light text-gray-400 mt-4">
            Already have an account?
            <a routerLink="/auth" class="font-medium text-main hover:underline"> Login </a>
          </p>

          @if(errorMessage){
          <div class="mt-5 bg-red-100 border-l-4 border-red-500 text-red-700 p-4 w-full">
            <p>{{ errorMessage }}</p>
          </div>
          } @if(successMessage){
          <div class="mt-5 bg-green-100 border-green-500 text-green-700 p-4 w-full">
            <p>{{ successMessage }}</p>
          </div>
          }
        </form>
      </div>
    </div>
  </div>
</section>
